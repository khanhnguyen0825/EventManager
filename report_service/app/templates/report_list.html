{% extends 'base.html' %} {% block content %}
<div class="container mt-4 p-4 page_background">
  <h3 class="text-center text-info">Danh sách báo cáo sự kiện</h3>

  {% if reports %}
  <table class="table table-striped table-bordered mt-3">
    <thead class="thead-dark">
      <tr>
        <th>Tên sự kiện</th>
        <th>Tên khách hàng</th>
        <th>Ngày</th>
        <th>Tóm tắt</th>
        <th>Đánh giá</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      {% for report in reports %}
      <tr>
        <td>{{ report.event_name }}</td>
        <td>{{ report.customer_name }}</td>
        <td>{{ report.event_date }}</td>
        <td>
          {{ report.summary[:50] }}{% if report.summary|length > 50 %}...{%
          endif %}
        </td>
        <td>
          {{ report.feedback[:50] }}{% if report.feedback|length > 50 %}...{%
          endif %}
        </td>
        <td>
          <a
            href="{{ url_for('report.view_report', report_id=report.id) }}"
            class="btn btn-sm btn-primary border-button"
          >
            Sửa
          </a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
  <p class="text-muted text-center">Chưa có báo cáo nào được tạo.</p>
  {% endif %}

  <a
    href="http://localhost:5002/events"
    class="btn btn-secondary mt-4 border-button"
  >
    <i class="fa fa-arrow-left"></i> Quay lại trang sự kiện
  </a>
</div>
{% endblock %}
