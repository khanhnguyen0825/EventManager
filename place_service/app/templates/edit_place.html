{% extends "base.html" %}

{% block title %}Sửa địa điểm{% endblock %}

{% block content %}
<div class="page_background p-4">
    <h3 class="mb-4">SỬA THÔNG TIN ĐỊA ĐIỂM</h3>

    <form method="POST" class="needs-validation" novalidate>
        <div class="row">
            <div class="col-md-6 mb-3">
                <label for="name" class="form-label">Tên địa điểm</label>
                <input type="text" class="form-control" id="name" name="name" 
                       value="{{ venue.name }}" required>
            </div>

            <div class="col-md-6 mb-3">
                <label for="type" class="form-label">Loại</label>
                <select class="form-select" id="type" name="type" required>
                    <option value="">Chọn loại địa điểm</option>
                    <option value="Hội trường" {% if venue.type == 'Hội trường' %}selected{% endif %}>Hội trường</option>
                    <option value="Rạp" {% if venue.type == 'Rạp' %}selected{% endif %}>Rạp</option>
                    <option value="Sân khấu ngoài trời" {% if venue.type == 'Sân khấu ngoài trời' %}selected{% endif %}>Sân khấu ngoài trời</option>
                    <option value="Nhà hát" {% if venue.type == 'Nhà hát' %}selected{% endif %}>Nhà hát</option>
                </select>
            </div>

            <div class="col-md-6 mb-3">
                <label for="capacity" class="form-label">Sức chứa (người)</label>
                <input type="number" class="form-control" id="capacity" name="capacity" 
                       value="{{ venue.capacity }}" required>
            </div>

            <div class="col-md-6 mb-3">
                <label for="price_per_hour" class="form-label">Giá/giờ (VNĐ)</label>
                <input type="number" class="form-control" id="price_per_hour" name="price_per_hour" 
                       value="{{ venue.price_per_hour }}" required>
            </div>

            <div class="col-12 mb-3">
                <label for="address" class="form-label">Địa chỉ</label>
                <input type="text" class="form-control" id="address" name="address" 
                       value="{{ venue.address }}" required>
            </div>

            <div class="col-12 mb-3">
                <label for="description" class="form-label">Mô tả</label>
                <textarea class="form-control" id="description" name="description" 
                          rows="3">{{ venue.description }}</textarea>
            </div>

            <div class="col-12 mb-3">
                <label for="facilities" class="form-label">Tiện ích</label>
                <textarea class="form-control" id="facilities" name="facilities" 
                          rows="2">{{ venue.facilities }}</textarea>
            </div>

            <div class="col-12 mb-3">
                <label for="image_url" class="form-label">URL hình ảnh</label>
                <input type="url" class="form-control" id="image_url" name="image_url" 
                       value="{{ venue.image_url }}">
            </div>
        </div>

        <div class="mt-4">
            <button type="submit" class="btn btn-primary btn-custom border-button">
                <i class="fas fa-save"></i> Cập nhật
            </button>
            <a href="{{ url_for('place.index') }}" class="btn btn-secondary btn-custom ms-2 border-button">
                <i class="fas fa-times"></i> Hủy
            </a>
        </div>
    </form>
</div>
{% endblock %}

{% block scripts %}
<script>
    // Form validation
    (function () {
        'use strict'
        var forms = document.querySelectorAll('.needs-validation')
        Array.prototype.slice.call(forms).forEach(function (form) {
            form.addEventListener('submit', function (event) {
                if (!form.checkValidity()) {
                    event.preventDefault()
                    event.stopPropagation()
                }
                form.classList.add('was-validated')
            }, false)
        })
    })()
</script>
{% endblock %}
